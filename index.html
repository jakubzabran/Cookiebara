<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookiebara Test</title>
    <!-- Cookiebara - Light-Weight Cookie Consent -->
    <script src="cookiebara.js"></script>
    <style>
        .consent-popup {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 20px;
            background-color: #fff;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            z-index: 1000;
        }

        .consent-popup h2 {
            margin-top: 0;
        }

        .consent-popup button {
            margin-right: 10px;
        }

        .consent-manager-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 20px;
            background-color: #fff;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            z-index: 1001;
        }

        .consent-manager-popup label {
            display: block;
            margin-bottom: 10px;
        }

        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }

        .link {
            cursor: pointer;
            color: blue;
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <header>
        <h1>Hello, this is Cookiebara.</h1>
    </header>

    <section id="capybara">
        <pre>
///////////    ////////       /////       //////// ////////  
//                //                 //    //    //             //
//                //                 //    //    //             //
//                //                 //////// //////////
//                //                 //    //            //
//                //                 //    //            //
//                ////////       //    //            //
        </pre>
    </section>

    <div ckbr-ui="consent-banner" class="consent-popup">
        <h2>We use cookies</h2>
        <button ckbr-ui="allow">Allow all</button>
        <button ckbr-ui="deny">Deny all</button>
    </div>

    <div class="link" ckbr-ui="open-manager">Show cookie preferences</div>

    <div class="overlay" id="overlay"></div>

    <div id="consent-manager" class="consent-manager-popup" ckbr-ui="consent-manager">
        <h2>Cookie Preferences</h2>
        <form id="consent-form">
            <label>
                <input type="checkbox" ckbr-ui="analytics">
                Analytics
            </label>
            <label>
                <input type="checkbox" ckbr-ui="marketing">
                Marketing
            </label>
            <label>
                <input type="checkbox" ckbr-ui="personalization">
                Personalization
            </label>
            <label>
                <input type="checkbox" ckbr-ui="uncategorized">
                Uncategorized
            </label>
            <button type="submit" ckbr-ui="submit">Save Preferences</button>
            <button type="button" id="close-manager">Close</button>
        </form>
    </div>

    <script>
        const showManager = () => {
            document.getElementById('overlay').style.display = 'block';
            document.getElementById('consent-manager').style.display = 'block';
            loadConsentsIntoForm();
        };

        const closeManager = () => {
            document.getElementById('overlay').style.display = 'none';
            document.getElementById('consent-manager').style.display = 'none';
        };

        document.querySelector('[ckbr-ui="open-manager"]').addEventListener('click', showManager);
        document.getElementById('close-manager').addEventListener('click', closeManager);
    </script>
</body>
</html>
